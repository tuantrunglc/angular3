"use strict";(self.webpackChunkec=self.webpackChunkec||[]).push([[435],{3435:(H,c,l)=>{l.r(c),l.d(c,{default:()=>k});var h=l(9608),t=l(2673),r=l(1088),d=l(179),u=l(9207),_=l(556);function U(n,o){if(1&n&&(t._uU(0,"\n    "),t.TgZ(1,"h4",6),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4,"\n  ")),2&n){const e=t.oxw();t.xp6(2),t.hij("\n      ",t.lcZ(3,1,"health.indicator."+e.health.key),"\n    ")}}const p=(n,o)=>o.key;function Z(n,o){if(1&n&&(t._uU(0,"\n              "),t.TgZ(1,"tr"),t._uU(2,"\n                "),t.TgZ(3,"td",12),t._uU(4),t.qZA(),t._uU(5,"\n                "),t.TgZ(6,"td",12),t._uU(7),t.qZA(),t._uU(8,"\n              "),t.qZA(),t._uU(9,"\n            ")),2&n){const e=o.$implicit,a=t.oxw(2);t.xp6(4),t.Oqu(e.key),t.xp6(3),t.Oqu(a.readableValue(e.value))}}function m(n,o){if(1&n&&(t._uU(0,"\n    "),t.TgZ(1,"div"),t._uU(2,"\n      "),t.TgZ(3,"h5",7),t._uU(4,"Properties"),t.qZA(),t._uU(5,"\n\n      "),t.TgZ(6,"div",8),t._uU(7,"\n        "),t.TgZ(8,"table",9),t._uU(9,"\n          "),t.TgZ(10,"thead"),t._uU(11,"\n            "),t.TgZ(12,"tr"),t._uU(13,"\n              "),t.TgZ(14,"th",10),t._uU(15,"Name"),t.qZA(),t._uU(16,"\n              "),t.TgZ(17,"th",11),t._uU(18,"Value"),t.qZA(),t._uU(19,"\n            "),t.qZA(),t._uU(20,"\n          "),t.qZA(),t._uU(21,"\n          "),t.TgZ(22,"tbody"),t._uU(23,"\n            "),t.SjG(24,Z,10,2,null,null,p),t.ALo(26,"keyvalue"),t.qZA(),t._uU(27,"\n        "),t.qZA(),t._uU(28,"\n      "),t.qZA(),t._uU(29,"\n    "),t.qZA(),t._uU(30,"\n  ")),2&n){const e=t.oxw();t.xp6(24),t.wJu(t.lcZ(26,0,e.health.value.details))}}let g=(()=>{class n{constructor(e){this.activeModal=e}readableValue(e){if("diskSpace"===this.health?.key){const a=e/1073741824;return a>1?`${a.toFixed(2)} GB`:`${(e/1048576).toFixed(2)} MB`}return"object"==typeof e?JSON.stringify(e):String(e)}dismiss(){this.activeModal.dismiss()}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(r.Kz))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["jhi-health-modal"]],standalone:!0,features:[t.jDz],decls:20,vars:2,consts:[[1,"modal-header"],["aria-label","Close","data-dismiss","modal","type","button",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"modal-body","pad"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-secondary","float-start",3,"click"],["id","showHealthLabel",1,"modal-title"],["jhiTranslate","health.details.properties"],[1,"table-responsive"],["aria-describedby","showHealthLabel",1,"table","table-striped"],["scope","col","jhiTranslate","health.details.name",1,"text-start"],["scope","col","jhiTranslate","health.details.value",1,"text-start"],[1,"text-start"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0),t._uU(1,"\n  "),t.YNc(2,U,5,3),t.TgZ(3,"button",1),t.NdJ("click",function(){return i.dismiss()}),t._uU(4,"\n    "),t.TgZ(5,"span",2),t._uU(6,"\xd7"),t.qZA(),t._uU(7,"\n  "),t.qZA(),t._uU(8,"\n"),t.qZA(),t._uU(9,"\n\n"),t.TgZ(10,"div",3),t._uU(11,"\n  "),t.YNc(12,m,31,2),t.qZA(),t._uU(13,"\n\n"),t.TgZ(14,"div",4),t._uU(15,"\n  "),t.TgZ(16,"button",5),t.NdJ("click",function(){return i.dismiss()}),t._uU(17,"Done"),t.qZA(),t._uU(18,"\n"),t.qZA(),t._uU(19,"\n")),2&a&&(t.xp6(2),t.um2(2,i.health?2:-1),t.xp6(10),t.um2(12,i.health?12:-1))},dependencies:[h.Z,d.Z,u.Nd,_.X$],encapsulation:2})}return n})();var T=l(8635),f=l(2101);let v=(()=>{class n{constructor(e,a){this.http=e,this.applicationConfigService=a}checkHealth(){return this.http.get(this.applicationConfigService.getEndpointFor("management/health"))}static#t=this.\u0275fac=function(a){return new(a||n)(t.LFG(T.eN),t.LFG(f.y))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var A=l(3642);const C=(n,o)=>o.key;function x(n,o){if(1&n){const e=t.EpF();t._uU(0,"\n                  "),t.TgZ(1,"a",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.showHealth({key:i.key,value:i.value}))}),t._uU(2,"\n                    "),t._UZ(3,"fa-icon",12),t._uU(4,"\n                  "),t.qZA(),t._uU(5,"\n                ")}}const b=()=>({UNKNOWN:"UNKNOWN",UP:"UP",OUT_OF_SERVICE:"OUT_OF_SERVICE",DOWN:"DOWN"});function y(n,o){if(1&n&&(t._uU(0,"\n            "),t.TgZ(1,"tr"),t._uU(2,"\n              "),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._uU(6,"\n              "),t.TgZ(7,"td",9),t._uU(8,"\n                "),t.TgZ(9,"span",10),t._uU(10),t.qZA(),t._uU(11,"\n              "),t.qZA(),t._uU(12,"\n              "),t.TgZ(13,"td",9),t._uU(14,"\n                "),t.YNc(15,x,6,0),t.qZA(),t._uU(16,"\n            "),t.qZA(),t._uU(17,"\n          ")),2&n){const e=o.$implicit,a=t.oxw(2);t.xp6(4),t.hij("\n                ",t.lcZ(5,5,"health.indicator."+e.key),"\n              "),t.xp6(5),t.s9C("jhiTranslate","health.status."+e.value.status),t.Q6J("ngClass",a.getBadgeClass(e.value.status)),t.xp6(1),t.hij("\n                  ",t.DdM(7,b)[e.value.status||"UNKNOWN"],"\n                "),t.xp6(5),t.um2(15,e.value.details?15:-1)}}function q(n,o){if(1&n&&(t._uU(0,"\n        "),t.TgZ(1,"tbody"),t._uU(2,"\n          "),t.SjG(3,y,18,8,null,null,C),t.ALo(5,"keyvalue"),t.qZA(),t._uU(6,"\n      ")),2&n){const e=t.oxw();t.xp6(3),t.wJu(t.lcZ(5,0,e.health.components))}}let k=(()=>{class n{constructor(e,a){this.modalService=e,this.healthService=a}ngOnInit(){this.refresh()}getBadgeClass(e){return"UP"===e?"bg-success":"bg-danger"}refresh(){this.healthService.checkHealth().subscribe({next:e=>this.health=e,error:e=>{503===e.status&&(this.health=e.error)}})}showHealth(e){this.modalService.open(g).componentInstance.health=e}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(r.FF),t.Y36(v))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["jhi-health"]],standalone:!0,features:[t.jDz],decls:39,vars:1,consts:[["id","health-page-heading","jhiTranslate","health.title","data-cy","healthPageHeading"],[1,"btn","btn-primary","float-end",3,"click"],["icon","sync"],["jhiTranslate","health.refresh.button"],[1,"table-responsive"],["id","healthCheck","aria-describedby","health-page-heading",1,"table","table-striped"],["scope","col","jhiTranslate","health.table.service"],["scope","col","jhiTranslate","health.table.status",1,"text-center"],["scope","col","jhiTranslate","health.details.details",1,"text-center"],[1,"text-center"],[1,"badge",3,"ngClass","jhiTranslate"],[1,"hand",3,"click"],["icon","eye"]],template:function(a,i){1&a&&(t.TgZ(0,"div"),t._uU(1,"\n  "),t.TgZ(2,"h2"),t._uU(3,"\n    "),t.TgZ(4,"span",0),t._uU(5,"Health Checks"),t.qZA(),t._uU(6,"\n\n    "),t.TgZ(7,"button",1),t.NdJ("click",function(){return i.refresh()}),t._uU(8,"\n      "),t._UZ(9,"fa-icon",2),t._uU(10," "),t.TgZ(11,"span",3),t._uU(12,"Refresh"),t.qZA(),t._uU(13,"\n    "),t.qZA(),t._uU(14,"\n  "),t.qZA(),t._uU(15,"\n\n  "),t.TgZ(16,"div",4),t._uU(17,"\n    "),t.TgZ(18,"table",5),t._uU(19,"\n      "),t.TgZ(20,"thead"),t._uU(21,"\n        "),t.TgZ(22,"tr"),t._uU(23,"\n          "),t.TgZ(24,"th",6),t._uU(25,"Service name"),t.qZA(),t._uU(26,"\n          "),t.TgZ(27,"th",7),t._uU(28,"Status"),t.qZA(),t._uU(29,"\n          "),t.TgZ(30,"th",8),t._uU(31,"Details"),t.qZA(),t._uU(32,"\n        "),t.qZA(),t._uU(33,"\n      "),t.qZA(),t._uU(34,"\n      "),t.YNc(35,q,7,2),t.qZA(),t._uU(36,"\n  "),t.qZA(),t._uU(37,"\n"),t.qZA(),t._uU(38,"\n")),2&a&&(t.xp6(35),t.um2(35,i.health?35:-1))},dependencies:[h.Z,u.mk,A.BN,d.Z,u.Nd,_.X$],encapsulation:2})}return n})()}}]);